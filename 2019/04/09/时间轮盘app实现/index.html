<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>时间轮盘app实现 | 我的学习笔记</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.3"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.3"></script><script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.3"></script><link rel="stylesheet" type="text/css" href="/css/donate.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">时间轮盘app实现</h1><a id="logo" href="/.">我的学习笔记</a><p class="description">做个勤奋的骚年吧</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">时间轮盘app实现</h1><div class="post-meta"><a href="/2019/04/09/时间轮盘app实现/#comments" class="comment-count"></a><p><span class="date">Apr 09, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>在mac上看到一款炫酷锁屏，所以按照自己的思路实现了其中一个效果，顺手码了个App，名为“时间轮盘”。“时间轮盘”包括动态壁纸和屏保功能。<br><a href="https://www.coolapk.com/apk/com.suda.datetimewallpaper" target="_blank" rel="noopener">下载地址</a></p>
<h2><span id="实现效果">实现效果</span></h2><div class="image-size-50-percent"><br> <img src="/09/时间轮盘app实现/04/09/时间轮盘app实现/time_app.jpg" title="image"><br></div>

<!-- toc -->
<ul>
<li><a href="#准备">准备</a></li>
<li><a href="#实现">实现</a><ul>
<li><a href="#1绘制轮盘">1.绘制轮盘</a></li>
<li><a href="#2显示正确的时间">2.显示正确的时间</a></li>
<li><a href="#3让我们的轮盘动起来">3.让我们的轮盘动起来</a></li>
<li><a href="#4显示到壁纸">4.显示到壁纸</a><ul>
<li><a href="#41添加壁纸权限">4.1添加壁纸权限</a></li>
<li><a href="#42实现壁纸服务">4.2实现壁纸服务</a></li>
<li><a href="#43添加my_wallpaperxml">4.3添加my_wallpaper.xml</a></li>
<li><a href="#44添加服务到清单">4.4添加服务到清单</a></li>
<li><a href="#45跳转设置壁纸">4.5跳转设置壁纸</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#网页版轮盘">网页版轮盘</a></li>
</ul>
<!-- tocstop -->
<h2><span id="准备">准备</span></h2><p>工欲善其事必先利其器，要实现功能首先需要了解相关技术栈。“时间轮盘”涉及到绘制，因此需要了解Canvas,Paint,Matrix相关Api。最终需要将绘制的图形展示到动态壁纸和屏保，因此需要分别继承WallpaperService和DreamService，并实现相关方法。</p>
<h2><span id="实现">实现</span></h2><h3><span id="1绘制轮盘">1.绘制轮盘</span></h3><p>实现程序绕不开绘制，因此我们先自定义一个View，重写onDraw()方法来实现轮盘的绘制。根据效果图分析，轮盘的环绕文字从内向外逐层显示，每一层显示一种具体时间字段。所以我们先实现一层（月份）绘制，接下的按照同样的方法进行绘制。</p>
<p>查阅文档，安卓关于文字绘制有以下方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span> <span class="params">(CharSequence text, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">float</span> x,<span class="keyword">float</span> y, Paint paint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span> <span class="params">(String text, <span class="keyword">float</span> x, <span class="keyword">float</span> y, Paint paint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span> <span class="params">(<span class="keyword">char</span>[] text, <span class="keyword">int</span> index, <span class="keyword">int</span> count, <span class="keyword">float</span> x, <span class="keyword">float</span> y, Paint paint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span> <span class="params">(String text, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">float</span> x, <span class="keyword">float</span> y, Paint paint)</span></span></span><br></pre></td></tr></table></figure>
<p>我们只需要使用到</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span> <span class="params">(String text, <span class="keyword">float</span> x, <span class="keyword">float</span> y, Paint paint)</span></span></span><br></pre></td></tr></table></figure>
<p>首先我们现在原点进行绘制”一月”,那么我们如何将绘制内容移动到画布中央呢，这时候我们就需要用到Matrix，Matrix在图形绘制中起着重要的作用，通过Matrix我们可以实现图形的缩放，旋转，平移以及它们的组合效果。</p>
<p>先使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">postTranslate</span><span class="params">(<span class="keyword">float</span> dx, <span class="keyword">float</span> dy)</span></span></span><br></pre></td></tr></table></figure>
<p>进行平移，根据效果图我们发现绘制距离中点还有一定距离，我们仅需再向右平移一段距离，最后通过调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Canvas.setMatrix(Matrix matrix)</span><br></pre></td></tr></table></figure>
<p>来应用Matrix，就可以愉快的绘制了。</p>
<p>接下来我们再绘制”二月”，和”一月”不同的是，”二月”相对于”一月”有一定的偏转角度，我们只要围绕画布中心点进行旋转就行了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">postRotate</span><span class="params">(<span class="keyword">float</span> degrees, <span class="keyword">float</span> px, <span class="keyword">float</span> py)</span></span></span><br></pre></td></tr></table></figure>
<p>旋转角度为360/12=30,同理接下来的月份就好办了。</p>
<p>将代码封装下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String[] months = &#123;</span><br><span class="line">        <span class="string">"壹"</span>, <span class="string">"贰"</span>, <span class="string">"仨"</span>, <span class="string">"肆"</span>, <span class="string">"伍"</span>, <span class="string">"陆"</span>,</span><br><span class="line">        <span class="string">"柒"</span>, <span class="string">"捌"</span>, <span class="string">"玖"</span>, <span class="string">"拾"</span>, <span class="string">"拾壹"</span>, <span class="string">"拾贰"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(Canvas canvas)</span> </span>&#123;</span><br><span class="line">    drawText(canvas,<span class="number">40</span>,months)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> canvas</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> radius   距中心距离</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strArray 轮盘文字数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">drawText</span><span class="params">(Canvas canvas, <span class="keyword">float</span> radius, String[] strArray)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> width = canvas.getWidth();</span><br><span class="line">    <span class="keyword">int</span> height = canvas.getHeight();</span><br><span class="line">    <span class="keyword">float</span> addD = <span class="number">360f</span> / strArray.length;</span><br><span class="line">    <span class="keyword">float</span> degree = <span class="number">0f</span>;</span><br><span class="line">    <span class="keyword">for</span> (String str : strArray) &#123;</span><br><span class="line">        <span class="comment">//重置Matrix</span></span><br><span class="line">        matrix.reset();</span><br><span class="line">        <span class="comment">//平移Matrix</span></span><br><span class="line">        matrix.postTranslate(width / <span class="number">2</span>, height / <span class="number">2</span>);</span><br><span class="line">        matrix.postTranslate(radius, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">//旋转Matrix</span></span><br><span class="line">        matrix.postRotate(degree, width / <span class="number">2</span>, height / <span class="number">2</span>);</span><br><span class="line">        <span class="comment">//设置Matrix</span></span><br><span class="line">        canvas.setMatrix(matrix);</span><br><span class="line">        canvas.drawText(str, <span class="number">0</span>, <span class="number">0</span>, clockPaint);</span><br><span class="line">        degree += addD;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过以上代码，我们便能够实现一个静态的时间轮盘了。</p>
<h3><span id="2显示正确的时间">2.显示正确的时间</span></h3><p>根据效果图我们知道，当前时间高亮显示，并且总是显示在右侧一行。我们需要将整个圆环进行旋转，一直转到当前时间。</p>
<p>首先我们通过调用Calendar的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> field)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Calendar.MONTH</span></span><br><span class="line"><span class="function">Calendar.DATE</span></span><br><span class="line"><span class="function">Calendar.HOUR_OF_DAY</span></span><br><span class="line"><span class="function">Calendar.MINUTE</span></span><br><span class="line"><span class="function">Calendar.SECOND</span></span><br></pre></td></tr></table></figure>
<p>获取到月，日等时间字段，拿月示例，现在是四月，根据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Calendar.get(Calendar.MONTH)</span><br></pre></td></tr></table></figure>
<p>我们获取到的值3,我们只需要逆时针旋转(360/12)*3就能够将四月旋转到正确的位置，并且将其设置高亮色，其他同理。<br></p>
<h3><span id="3让我们的轮盘动起来">3.让我们的轮盘动起来</span></h3><p>通过 (当前毫秒%1000/1000f) * 360 可以知道当前秒数的偏移量，在绘制的时候只要再加上这个偏移量，再通过一个定时器定时的执行重绘工作,便可以实现轮盘的转动了。</p>
<h3><span id="4显示到壁纸">4.显示到壁纸</span></h3><h4><span id="41添加壁纸权限">4.1添加壁纸权限</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.SET_WALLPAPER"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4><span id="42实现壁纸服务">4.2实现壁纸服务</span></h4><p>继承WallpaperService并实现onCreateEngine<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">override fun <span class="title">onCreateEngine</span><span class="params">()</span>: WallpaperService.Engine </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> LiveWallpaperEngine()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private inner class LiveWallpaperEngine : WallpaperService.Engine() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">override fun <span class="title">onSurfaceCreated</span><span class="params">(holder: SurfaceHolder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onSurfaceCreated(holder)</span><br><span class="line">        <span class="comment">//获取画布</span></span><br><span class="line">        val canvas = holder!!.lockCanvas()</span><br><span class="line">        <span class="comment">//绘制到画布</span></span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment">//显示到屏幕</span></span><br><span class="line">        holder!!.unlockCanvasAndPost(canvas)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">override fun <span class="title">onVisibilityChanged</span><span class="params">(visible: Boolean)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onVisibilityChanged(visible)</span><br><span class="line">        <span class="comment">//为了省电，我们可以在壁纸不显示的时候，停止绘制线程</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">override fun <span class="title">onSurfaceChanged</span><span class="params">(holder: SurfaceHolder, format: Int, width: Int, height: Int)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onSurfaceChanged(holder, format, width, height)</span><br><span class="line">        <span class="comment">//在屏幕旋转时调整画布大小</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">override fun <span class="title">onSurfaceDestroyed</span><span class="params">(holder: SurfaceHolder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onSurfaceDestroyed(holder)</span><br><span class="line">        <span class="comment">//销毁绘制线程</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4><span id="43添加my_wallpaperxml">4.3添加my_wallpaper.xml</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">wallpaper</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:description</span>=<span class="string">"@string/app_name"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h4><span id="44添加服务到清单">4.4添加服务到清单</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">service</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">".service.LiveWallPaperService"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:permission</span>=<span class="string">"android.permission.BIND_WALLPAPER"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.service.wallpaper.WallpaperService"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta-data</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"android.service.wallpaper"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:resource</span>=<span class="string">"@xml/my_wallpaper"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4><span id="45跳转设置壁纸">4.5跳转设置壁纸</span></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.setAction(WallpaperManager.ACTION_CHANGE_LIVE_WALLPAPER);</span><br><span class="line">intent.putExtra(WallpaperManager.EXTRA_LIVE_WALLPAPER_COMPONENT,</span><br><span class="line">    <span class="keyword">new</span> ComponentName(activity.getApplicationContext().getPackageName(), LiveWallPaperService.class.getCanonicalName()));</span><br><span class="line">activity.startActivityForResult(intent, requestCode);</span><br></pre></td></tr></table></figure>
<h2><span id="网页版轮盘">网页版轮盘</span></h2><p><a href="https://ghbhaha.github.io/DateTimewallpaper_Communication/editer.html" target="_blank" rel="noopener">https://ghbhaha.github.io/DateTimewallpaper_Communication/editer.html</a></p>
</div><script type="text/javascript" src="/js/jquery.js?v=2.0.3" async></script><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>坚持原创技术分享，您的支持将鼓励我继续创作！<br></div></div><div id="donate_guide" class="donate_bar center hidden pay"><img src="/img/weixin.jpg" title="微信打赏" alt="微信打赏"><img src="/img/zhifubao.jpg" title="支付宝打赏" alt="支付宝打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><div class="post-copyright"><blockquote><p>原文作者: ghbhaha</p><p>原文链接: <a href="/2019/04/09/时间轮盘app实现/">/2019/04/09/时间轮盘app实现/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/android/">android</a><a href="/tags/canvas/">canvas</a><a href="/tags/matrix/">matrix</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/04/09/nginx相关/" class="pre">nginx相关</a><a href="/2015/02/28/linux下使用git-push时免输入账号密码/" class="next">linux下使用git push时免输入账号密码</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">实现效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">1.绘制轮盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">2.显示正确的时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">3.让我们的轮盘动起来</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null"><span class="toc-text">4.显示到壁纸</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#null"><span class="toc-text">4.1添加壁纸权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null"><span class="toc-text">4.2实现壁纸服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null"><span class="toc-text">4.3添加my_wallpaper.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null"><span class="toc-text">4.4添加服务到清单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null"><span class="toc-text">4.5跳转设置壁纸</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null"><span class="toc-text">网页版轮盘</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/04/09/nginx相关/">nginx相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/09/时间轮盘app实现/">时间轮盘app实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/02/28/linux下使用git-push时免输入账号密码/">linux下使用git push时免输入账号密码</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/25/解决使用hexo的常见问题/">解决使用hexo的常见问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/22/如何去除gedit编辑文件时生成的备份文件/">如何去除gedit编辑文件时生成的备份文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/20/为Github帐号添加SSH-keys/">为Github帐号添加SSH keys</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/17/Test/">Test</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/教程/">教程</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂项/">杂项</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/Test/" style="font-size: 15px;">Test</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/canvas/" style="font-size: 15px;">canvas</a> <a href="/tags/matrix/" style="font-size: 15px;">matrix</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/gedit/" style="font-size: 15px;">gedit</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">ghbhaha.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p><p><span> 苏ICP备 -<a rel="nofollow" target="_blank" href="http://beian.miitbeian.gov.cn"> 19045905号-1	</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>